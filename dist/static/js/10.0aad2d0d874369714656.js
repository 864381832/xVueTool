webpackJsonp([10],{HKz2:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__=__webpack_require__("pFYg"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify__);__webpack_exports__.a={props:{text:{default:""},value:{default:""}},data:function(){return{jsonHtml:""}},watch:{value:function(){this.process(this.value)}},mounted:function(){this.process(this.value)},methods:{formatJson:function(e,t){var n=null,r="",a=0;return(t=t||{}).newlineAfterColonIfBeforeBraceOrBracket=!0===t.newlineAfterColonIfBeforeBraceOrBracket,t.spaceAfterColon=!1!==t.spaceAfterColon,"string"!=typeof e?e=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e):(e=JSON.parse(e),e=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default()(e)),n=/([\{\}])/g,e=e.replace(n,"\r\n$1\r\n"),n=/([\[\]])/g,e=e.replace(n,"\r\n$1\r\n"),n=/(\,)/g,e=e.replace(n,"$1\r\n"),n=/(\r\n\r\n)/g,e=e.replace(n,"\r\n"),n=/\r\n\,/g,e=e.replace(n,","),t.newlineAfterColonIfBeforeBraceOrBracket||(n=/\:\r\n\{/g,e=e.replace(n,":{"),n=/\:\r\n\[/g,e=e.replace(n,":[")),t.spaceAfterColon&&(n=/\:/g,e=e.replace(n,":")),e.split("\r\n").forEach(function(e,t){var n=0,l=0,i="";for(e.match(/\{$/)||e.match(/\[$/)?l=1:e.match(/\}/)||e.match(/\]/)?0!==a&&(a-=1):l=0,n=0;n<a;n++)i+="    ";r+=i+e+"\r\n",a+=l}),r},isArray:function(e){return e&&"object"===(void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(e))&&"number"==typeof e.length&&!e.propertyIsEnumerable("length")},process:function process(text){var html="";try{""==text&&(text='""');var obj=eval("["+text+"]");html=this.processObject(obj[0],0,!1,!1,!1),this.jsonHtml=html}catch(e){throw e}},processObject:function(e,t,n,r,a){var l="",i=n?"<span class='comma'>,</span> ":"",s=void 0===e?"undefined":__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(e);if(this.isArray(e))if(0==e.length)l+=this.getRow(t,"<span class='array-brace'>[ ]</span>"+i,a);else{l+=this.getRow(t,"<span class='array-brace'>[</span>",a);for(var o=0;o<e.length;o++)l+=this.processObject(e[o],t+1,o<e.length-1,!0,!1);l+=this.getRow(t,"<span class='array-brace'>]</span>"+i)}else if("object"==s&&null==e)l+=this.formatLiteral("null","",i,t,r,"null");else if("object"==s){var c=0;for(var u in e)c++;if(0==c)l+=this.getRow(t,"<span class='object-brace'>{ }</span>"+i,a);else{l+=this.getRow(t,"<span class='object-brace'>{</span>",a);var _=0;for(var u in e)l+=this.getRow(t+1,'<span class="property-name">"'+u+'"</span>: '+this.processObject(e[u],t+1,++_<c,!1,!0));l+=this.getRow(t,"<span class='object-brace'>}</span>"+i)}}else"number"==s?l+=this.formatLiteral(e,"",i,t,r,"number"):"boolean"==s?l+=this.formatLiteral(e,"",i,t,r,"boolean"):"function"==s?(e=this.formatFunction(t,e),l+=this.formatLiteral(e,"",i,t,r,"function")):l+="undefined"==s?this.formatLiteral("undefined","",i,t,r,"null"):this.formatLiteral(e,'"',i,t,r,"string");return l},formatLiteral:function(e,t,n,r,a,l){"string"==typeof e&&(e=e.split("<").join("&lt;").split(">").join("&gt;"));var i="<span class='"+l+"'>"+t+e+t+n+"</span>";return a&&(i=this.getRow(r,i)),i},formatFunction:function(e,t){for(var n="",r=0;r<e;r++)n+="    ";var a=t.toString().split("\n"),l="";for(r=0;r<a.length;r++)l+=(0==r?"":n)+a[r]+"\n";return l},getRow:function(e,t,n){for(var r="",a=0;a<e&&!n;a++)r+="    ";return null!=t&&t.length>0&&"\n"!=t.charAt(t.length-1)&&(t+="\n"),r+t}}}},XrHk:function(e,t){},Z0qO:function(e,t){},a1Va:function(e,t,n){"use strict";var r=n("HKz2"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-scrollbar",[t("div",{staticClass:"json-show",domProps:{innerHTML:this._s(this.jsonHtml)}})])},staticRenderFns:[]};var l=function(e){n("Z0qO")},i=n("VU/8")(r.a,a,!1,l,null,null);t.a=i.exports},dkM4:function(e,t){},egjg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mvHQ"),a=n.n(r),l={name:"el-tree-select",props:{config:{type:Object,default:function(){return{value:"id",label:"title",children:"children"}}},options:{type:Array,default:function(){return[]}},value:{type:Number,default:function(){return null}},clearable:{type:Boolean,default:function(){return!0}},accordion:{type:Boolean,default:function(){return!1}},placeholder:{type:String,default:function(){return"搜索关键字"}}},data:function(){return{filterText:"",valueId:this.value,valueTitle:"",defaultExpandedKey:[]}},mounted:function(){this.initHandle()},methods:{initHandle:function(){this.valueId&&(this.valueTitle=this.$refs.selectTree.getNode(this.valueId).data[this.config.label],this.$refs.selectTree.setCurrentKey(this.valueId),this.defaultExpandedKey=[this.valueId])},nodeClick:function(e){this.valueTitle=e[this.config.label],this.valueId=e[this.config.value],this.$emit("node-click",e),this.defaultExpandedKey=[]},clearHandle:function(){this.valueTitle="",this.valueId=null,this.defaultExpandedKey=[],this.clearSelected(),this.$emit("getValue",null)},clearSelected:function(){document.querySelectorAll(".select-tree #tree-option .el-tree-node").forEach(function(e){return e.classList.remove("is-current")})},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)}},watch:{value:function(){this.valueId=this.value,this.initHandle()},filterText:function(e){this.$refs.selectTree.filter(e)}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"select-tree"},[n("el-select",{attrs:{value:e.valueTitle,clearable:e.clearable},on:{clear:e.clearHandle}},[n("el-input",{staticClass:"select-input",attrs:{placeholder:e.placeholder,size:"small"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),n("el-option",{attrs:{value:e.valueTitle,label:e.valueTitle}},[n("el-tree",{ref:"selectTree",attrs:{id:"tree-option",accordion:e.accordion,data:e.options,props:e.config,"node-key":e.config.value,"default-expanded-keys":e.defaultExpandedKey,"filter-node-method":e.filterNode},on:{"node-click":e.nodeClick}})],1)],1)],1)},staticRenderFns:[]};var s={name:"app",components:{SelectTree:n("VU/8")(l,i,!1,function(e){n("XrHk")},"data-v-42740069",null).exports,Json:n("a1Va").a},data:function(){return{isClearable:!0,isAccordion:!0,value:"",selectedNode:{},selectedNodeStr:"",config:{value:"id",label:"name",children:"children"},list:[{id:1,parentId:0,name:"一级菜单A",rank:1},{id:2,parentId:0,name:"一级菜单B",rank:1},{id:3,parentId:0,name:"一级菜单C",rank:1},{id:4,parentId:1,name:"二级菜单A-A",rank:2},{id:5,parentId:1,name:"二级菜单A-B",rank:2},{id:6,parentId:2,name:"二级菜单B-A",rank:2},{id:7,parentId:4,name:"三级菜单A-A-A",rank:3},{id:8,parentId:7,name:"四级菜单A-A-A-A",rank:4},{id:9,parentId:0,name:"一级菜单C",rank:1},{id:10,parentId:0,name:"一级菜单end",rank:1}]}},computed:{optionData:function(){var e=JSON.parse(a()(this.list));return e.filter(function(t){var n=e.filter(function(e){return t.id==e.parentId});return n.length>0&&(t.children=n),0==t.parentId})}},methods:{getValue:function(e){this.valueId=e.id,this.selectedNode=e,this.selectedNodeStr=a()(e)}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{attrs:{gutter:20}},[n("el-col",{staticClass:"mb20",attrs:{md:12}},[n("el-card",{staticClass:"card-demo"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("树形选择器组件")])]),e._v(" "),n("select-tree",{attrs:{config:e.config,options:e.optionData,"v-model":e.value,clearable:e.isClearable,accordion:e.isAccordion},on:{"node-click":function(t){return e.getValue(t)}}})],1)],1),e._v(" "),n("el-col",{attrs:{md:12}},[n("el-card",{staticClass:"card-demo"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("选中的节点")])]),e._v(" "),n("json",{model:{value:e.selectedNodeStr,callback:function(t){e.selectedNodeStr=t},expression:"selectedNodeStr"}})],1)],1)],1)},staticRenderFns:[]};var c=n("VU/8")(s,o,!1,function(e){n("dkM4")},"data-v-248828de",null);t.default=c.exports}});